<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Imcms public API 1.0 samples</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body>
<H1>Imcms public API 1.0 samples</H1>

<p>
Warning!<br>
These links works differently depending what user you are logged in as, and what permissions that user has.<br>
When logged out, the only link that should work is the sample of exception handling at the bottom of this document.</p>
<p>

<h3>How to use this examples</h3>
When you click on a jsp-link below that page is going to be run, and produce a result.<br>
To see the actual code, pleas open the page in your favorit java/jsp editing environment.<br>

<h3>Who you are</h3>
To see what user you are logged in as, see <a href="logged_in_user.jsp">logged_in_user.jsp</a><br>
Log in as a different user: <a href="../login/index.html">../login/index.html</a><br>
Log out (and become an non-logged in user) : <a href="../servlet/LogOut">../servlet/LogOut</a>
</p>

<h3>Users</h3>
To see what useras that exists in the system: <a href="user_listing.jsp">user_listing.jsp</a><br>
<h3>Roles</h3>
<a href="role_get_user_with_role.jsp">role_get_user_with_role.jsp</a><br>
Add: <a href="role_create_role.jsp">role_create_role.jsp</a><br>
Delete: <a href="role_delete_role.jsp">role_delete_role.jsp</a><br>

<h3>Document</h3>
The following samples is modifying document 1001.<br>
It lookes like this: <a href="../servlet/GetDoc?meta_id=1001">document</a><br>
<br>
Get the information about the document <a href="document_get_document_info.jsp">document_get_document_info.jsp</a><br>
Change the document information <a href="document_change_document_info.jsp">document_change_document_info.jsp</a><br>
<br>
Get the first document field from the document, <a href="document_get_text_from_field.jsp">document_get_text_from_field.jsp</a><br>
Change the first and the second field, <a href="document_set_text_field.jsp">document_set_text_field.jsp</a><br>
Clear the first and the second field, </a><a href="document_clear_text_field.jsp">document_clear_text_field.jsp</a><br>
<br>
To create a new text dokument that is linked from the document above, <a href="document_create_new_text_document.jsp">document_create_new_text_document.jsp</a><br>
<br>

You can manipulate documents in various ways. To do so the current user has to have surtain roles, that in turn has to
have surtain rights.
<a href="document_permissions.jsp">document_permissions.jsp</a><br>
To see what spcified Restricted permissions one page has, see <a href="document_modify_permission_se_restricted_1.jsp">document_modify_permission_se_restricted_1.jsp</a>

<H3>NoPermissionException and exception hangling in jsp-pages</H3>
<P>
If the user that is accessing the page dosen't have the right permissions a NoPermissionException is thrown from the methods.
There are two normal ways to handle this. <BR>
1. In the jsp pages page-tag set the errorpage attribute and let that page handle the response to the user<BR>
2. Use try/catch in an normal Java way.<BR>
In this sample page, the first choice is made, see restrictedoperations.jsp and error.jsp files for details.
</P>

This document throws an exception in many cases.
error.jsp should not be called directly. It's called from whithin another jsp-page when an exception is thrown.
Se <a href="restrictedoperations.jsp">restrictedoperations.jsp</a><br>
</body>
</html>


