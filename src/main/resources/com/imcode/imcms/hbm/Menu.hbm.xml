<?xml version="1.0" encoding="UTF-8"?>
 
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" 
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
 
<hibernate-mapping>

  <!-- ==================================================================== -->
  <!-- Menus -->
  <!-- ==================================================================== -->
  <!-- List -->
  <query name="Menu.getMenus">
    <![CDATA[
    SELECT m FROM Menu m  WHERE m.docId = :docId AND m.docVersionNo = :docVersionNo
    ]]>
  </query>

  <!-- Bulk delete -->
  <!-- Unit test fail since hibernate can not (yet?) generate ON DELETE CASCADE -->  
  <query name="Menu.deleteMenus">
    <![CDATA[
    DELETE FROM Menu m WHERE m.docId = :docId AND m.docVersionNo = :docVersionNo
    ]]>
  </query>

</hibernate-mapping>